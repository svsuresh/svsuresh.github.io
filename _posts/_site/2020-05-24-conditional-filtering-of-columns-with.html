<div style="text-align: justify;" zoompage-fontsize="16">For basic processing of the text, AWK and Sed are two of the best CLI tools available in GNU-linux. Today, let us look at conditional filtering of columns using a text file and download it <a href="https://drive.google.com/open?id=1bb5CBxQs7VQQypKKeK-bYUCXmlG1MBjeviKLOx5OvoU" zoompage-fontsize="16">here</a>.&nbsp;</div><div zoompage-fontsize="16">Text file looks as below:<br /></div><div class="separator" style="clear: both; text-align: center;" zoompage-fontsize="16"><a href="https://1.bp.blogspot.com/-jrU2537CS60/XsodCfSbGZI/AAAAAAAABUk/3jJKwdsHyagAj1JpY-VaQgNYxl-JlklwgCK4BGAsYHg/test.png" style="margin-left: 1em; margin-right: 1em;" zoompage-fontsize="16"><img border="0" data-original-height="204" data-original-width="833" height="156" src="https://1.bp.blogspot.com/-jrU2537CS60/XsodCfSbGZI/AAAAAAAABUk/3jJKwdsHyagAj1JpY-VaQgNYxl-JlklwgCK4BGAsYHg/w640-h156/test.png" width="640" /><br /></a></div><div class="separator" style="clear: both; text-align: justify;" zoompage-fontsize="16">Now, one has to compare if Gene from 2nd column (gnomGene) matches with 3rd column (COSMGene) and if it matches, compare column 1 (variants in gnomAD column) and 4 (variants in COSMIC column). If column 1 matches with column 4, then put in a "match" column and if column 1 variant doesn't match column 4 variants, put in a "Nomatch" column.</div><div class="separator" style="clear: both; text-align: justify;" zoompage-fontsize="16">code:</div><div class="separator" style="clear: both; text-align: justify;" zoompage-fontsize="16">==========================================<br /></div><div zoompage-fontsize="16">$ awk -v OFS="\t" -F"\t" 'NR==1 {print $0,"Match","NoMatch"}; NR&gt;1 {if($2==$3){if($1==$4) {$7=$1} else {$8=$1}} else {};print}' file.txt</div><div zoompage-fontsize="16">==========================================</div><div zoompage-fontsize="16"><br /></div><div zoompage-fontsize="16">Final output looks like this:</div><div style="text-align: center;" zoompage-fontsize="16"><a href="https://1.bp.blogspot.com/-vy6Ze0RqMQk/XsogfDkSR5I/AAAAAAAABVE/CK_QxKVJOzQSokyqc3uAFwIYMDINrE0IQCK4BGAsYHg/test_output.png" imageanchor="1" zoompage-fontsize="16"><img border="0" data-original-height="198" data-original-width="904" height="140" src="https://1.bp.blogspot.com/-vy6Ze0RqMQk/XsogfDkSR5I/AAAAAAAABVE/CK_QxKVJOzQSokyqc3uAFwIYMDINrE0IQCK4BGAsYHg/w640-h140/test_output.png" width="640" /></a></div><div zoompage-fontsize="16"><br /></div><div zoompage-fontsize="16">Explanation of the code:</div><div zoompage-fontsize="16"><ol style="text-align: left;" zoompage-fontsize="16"><li zoompage-fontsize="16">NR==1 {print $0,"Match","NoMatch"} -- prints header of the original file and two new columns names "Match" and "NoMatch"<br /></li><li zoompage-fontsize="16">NR&gt;1 {if($2==$3){if($1==$4) {$7=$1} else {$8=$1}} else {};print} -- a nested if..else condition. First if checks column 2 matches with column3. If (first) matches, then second if kicks in. Second if checks, if first column is equivalent to 4th column. If it is equivalent, then column 1 value will be put in column 7 (match). If it is not equivalent, then column 1 value will be put in column 8 (nomatch). If first if fails (column 2 doesn't match with column 3), no action happens i.e both match and nomatch columns will be left empty.<br /></li><li zoompage-fontsize="16">print -- prints the file at the end<br /></li></ol></div><div zoompage-fontsize="16"><br /></div>